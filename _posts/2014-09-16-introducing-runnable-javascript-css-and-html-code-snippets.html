---
layout: post
title: Introducing Runnable JavaScript, CSS, and HTML Code Snippets
date: 2014-09-16 12:46:15.000000000 -04:00
categories:
- announcement
- stackexchange
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '27'
  _podPressPostSpecific: a:6:{s:15:"itunes:subtitle";s:15:"##PostExcerpt##";s:14:"itunes:summary";s:15:"##PostExcerpt##";s:15:"itunes:keywords";s:17:"##WordPressCats##";s:13:"itunes:author";s:10:"##Global##";s:15:"itunes:explicit";s:7:"Default";s:12:"itunes:block";s:7:"Default";}
author:
  login: dhaney
  email: dhaney@stackoverflow.com
  display_name: David Haney
  first_name: David
  last_name: Haney

---
<p>On Stack Overflow and our other code-related sites, <a href="http://stackoverflow.com/help/mcve">creating a minimal, complete, and verifiable example</a> is the best way to get an answer to your question. We’ve always loved <a href="http://www.jsfiddle.net">JSFiddle</a> and sites like it because they let both askers and answerers reference runnable, working code that demonstrates their problem or solution.</p>
<p>Unfortunately, the use of these external sites introduces a few problems:</p>
<ol>
<li><a href="http://meta.stackexchange.com/questions/114942/when-jsfiddle-and-other-related-sites-are-gone-so-is-the-information">If the link breaks, the post becomes worthless</a>.</li>
<li>If the code isn’t embedded in the page, visitors are <a href="http://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers">forced to go elsewhere</a> to get the <a href="http://meta.stackexchange.com/questions/80978/questions-linking-to-external-web-sites-instead-of-showing-code">full content of the question or answer</a>.</li>
<li>Also, because the code isn’t a part of our post Markdown, changes to it don’t show up in the revision history.</li>
</ol>
<p>The community voiced similar concerns around external sites, which eventually led us to <a href="http://meta.stackexchange.com/questions/149890/prevent-posts-with-links-to-jsfiddle-and-no-code">block posts that contain links to JSFiddle and similar sites without a corresponding code block</a>. This is an unnecessary burden for both askers and answerers.</p>
<p>So we’ve created our own way to embed runnable JavaScript, CSS, and HTML code blocks right in the body of a post. As of today, we're launching “Stack Snippets,” a fully integrated feature available on Stack Overflow and any other code-related Stack Exchange sites.</p>
<h2>How Do Stack Snippets Work?</h2>
<p>With Stack Snippets, a code block:</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/kZPXw.png"><img src="{{ site.baseurl }}/assets/kZPXw.png" alt="Code block" /></a></div>
<p>Can become a <i>runnable</i> code block:</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/YMvu1.png"><img src="{{ site.baseurl }}/assets/YMvu1.png" alt="Runnable code block" /></a></div>
<p>The code will not run until you press the “Run code snippet<b>”</b> button:</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/b9ukx.png"><img src="{{ site.baseurl }}/assets/b9ukx.png" alt="Runnable code block that has been executed" /></a></div>
<h2>How Do I Make A Stack Snippet?</h2>
<p>Stack Snippets work for both questions and answers. In the Markdown editor window, there’s a new button that you can click to launch the Stack Snippets editor.</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/h6BFu.png"><img src="{{ site.baseurl }}/assets/h6BFu.png" alt="The Markdown toolbar with the new Stack Snippet button" /></a></div>
<p>The editor appears and allows you to enter HTML, CSS, and JavaScript (or any combination of them):</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/wx8jF.png"><img src="{{ site.baseurl }}/assets/wx8jF.png" alt="The Stack Snippet editor" /></a></div>
<p>Once you’ve got your code working, press "Insert into Post" at the bottom and you’re done! You can test your snippet, or load it back into the Snippets editor from right in the Preview screen:</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/KO2TC.png"><img src="{{ site.baseurl }}/assets/KO2TC.png" alt="The run and edit options of Stack Snippets in the editor preview" /></a></div>
<p>When answering a post containing a snippet, you can easily include a modified version of the original in your answer - just click the "Copy snippet to answer" button.</p>
<h2>Under the Hood</h2>
<p>A great feature of Stack Snippets is that they are inserted as <b>regular Markdown code blocks</b>:</p>
<div style="text-align: center"><a href="//i.stack.imgur.com/zXjtQ.png"><img src="{{ site.baseurl }}/assets/zXjtQ.png" alt="The actual Markdown of a Stack Snippet" /></a></div>
<p>This makes them instantly backwards-compatible with our normal revision history and diffs, and also any API clients including our own <a href="http://blog.stackoverflow.com/2014/05/stack-exchange-for-iphone-is-here">mobile</a> <a href="http://blog.stackoverflow.com/2014/01/stack-exchange-for-android-is-here">apps</a>.</p>
<p>The runnable snippets behavior is triggered by a few new HTML comments that are not rendered by Markdown. You can even edit the code right from the Markdown editor and the snippet will still be runnable.</p>
<h2>Are Stack Snippets Safe?</h2>
<p><b>Yes, as much as the web in general is safe.</b> You are not in any more danger than you are when browsing any site with JavaScript enabled. With that said, the snippets <i>are running client code in your browser</i>, and you should always exercise caution when running code contributed by another user.</p>
<p>We isolate snippets from our sites to block access to your private Stack Exchange data:</p>
<ul>
<li>We use <strong>HTML5 sandboxed iframes</strong> in order to prevent many forms of malicious attack.</li>
<li>We <strong>render the Snippets on an external domain</strong> (<a href="http://stacksnippets.net">stacksnippets.net</a>) in order to ensure that the same-origin policy is not in effect and to keep the snippets from accessing your logged-in session or cookies.</li>
</ul>
<p>Like all other aspects of our site, Stack Snippets are ultimately <b>governed by the community</b>. Because users can still write code that creates annoying behaviors like infinite loops or pop-ups, we disable snippets on any post that is heavily downvoted (scoring less than -3 on Stack Overflow, -8 on Meta). If you see bad code that you think should be disabled, <b>downvote the post</b>. If you see code that is intended to be harmful (such as an attempt at phishing), you should <strong>flag it for moderator attention</strong>.</p>
<h2>What About Other Languages?</h2>
<p>Our initial release supports HTML, CSS, and JavaScript because questions on these topics use external code hosting sites the most frequently. These languages also run client-side in the user’s browser, making them self-contained and easy to support. Server-side languages are much more complicated and require significant infrastructure changes in order to properly implement. We don’t have any specific plans at this time to implement other languages, but it’s something we might consider in the future.</p>
<h2>What About Sites Like JSFiddle?</h2>
<p><b>You can still use sites like JSFiddle if you prefer them</b>. JSFiddle and similar sites still have a bunch of features that we have not implemented yet. The normal rules for a link still apply: make sure you <a href="http://meta.stackexchange.com/questions/84342/answer-that-only-contains-a-link-to-jsfiddle">copy the relevant code</a> into your question or answer so that it can be accessed if the external site is unavailable.</p>
<p>We decided to implement our own version instead of embedding a third-party site for the reasons mentioned earlier:</p>
<ul>
<li><b>There’s no need to copy-paste the code into the post.</b> It’s all embedded in the post automatically, so revision history and diffs just work.</li>
<li><b>There’s no need to visit another site to get your answer. </b>The best experience is one where your question and answer(s) are complete and on the same page.</li>
<li><b>Since we host it, we can guarantee performance and up-time</b>. We have high standards when it comes to performance and up-time, and want to make sure that the ability to run a snippet is always available.</li>
</ul>
<h2>Give Stack Snippets A Try</h2>
<p>We’re excited to see how the community uses Stack Snippets, and looking forward to your feedback:</p>
<ul>
<li>If you find bugs, or you’d like to give specific feedback on Stack Snippets, you can post on <a href="http://meta.stackexchange.com/questions/ask?tags=stack-snippets">Meta Stack Exchange</a> using the tag <a href="http://meta.stackexchange.com/questions/tagged/stack-snippets">stack-snippets</a>.</li>
<li>If you just want to try it out, we’ve <a href="http://meta.stackexchange.com/questions/239456/stack-snippets-sandbox-try-it-out-here">created a sandbox on Meta Stack Exchange</a>.</li>
<li>If you feel that a particular site should have Stack Snippets, post a feature-request on that site's meta - if there's support from the community there, we'll enable them.</li>
</ul>
<p><a href="http://codereview.stackexchange.com/questions/62577/bouncing-stacking-boxes">We've already started piloting it on Code Review and are seeing some neat results</a>. Don't hesitate to share interesting examples you come across - <i>or create</i> - here in the comments.</p>
<p>Have fun!</p>
