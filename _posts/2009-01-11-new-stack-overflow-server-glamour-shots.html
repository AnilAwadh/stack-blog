---
layout: post
title: New Stack Overflow Server Glamour Shots
date: 2009-01-11 23:59:34.000000000 -05:00
categories:
- server
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _podPressPostSpecific: a:6:{s:15:"itunes:subtitle";s:15:"##PostExcerpt##";s:14:"itunes:summary";s:15:"##PostExcerpt##";s:15:"itunes:keywords";s:17:"##WordPressCats##";s:13:"itunes:author";s:10:"##Global##";s:15:"itunes:explicit";s:2:"No";s:12:"itunes:block";s:2:"No";}
author:
  login: admin
  email: jatwood@codinghorror.com
  display_name: Jeff Atwood
  first_name: Jeff
  last_name: Atwood

---
<p>
In <a href="http://blog.stackoverflow.com/2008/12/server-hosting-rent-vs-buy/">Server Hosting â€” Rent vs. Buy?</a> I solicited opinions on whether it made more sense to continue renting our Stack Overflow servers, or to buy them. Thanks for everyone's feedback on that!</p>
<p>
Now the die is cast -- <b>check out these sexy glamour shots of the two (soon to be three) <i>new</i> Stack Overflow servers</b>:</p>
<p>
<img src="assets/stackoverflow-lenovo-servers-overview.jpg" alt="stackoverflow-lenovo-servers-overview" title="stackoverflow-lenovo-servers-overview" width="600" /></p>
<p>
Feast your eyes on that hot, <i>sweet</i> server hardware!</p>
<p>
We plan to have three servers for now, but we did secure a half rack at our hosting provider for future expansion, as necessary. Here's what we'll be shipping to them initially:</p>
<ul>
<li>2 x Lenovo <a href="http://www.google.com/search?q=lenovo+thinkserver+rs110">ThinkServer RS110</a> 1U -- web tier
</li>
<li>1 x Lenovo <a href="http://www.google.com/search?q=lenovo+thinkserver+rd120">ThinkServer RD120</a> 2U -- database tier
</li>
</ul>
<p>
The 1U web tier servers are modest:</p>
<p>
<img src="assets/lenovo-rs110-overview.jpg" alt="lenovo-rs110-overview" title="lenovo-rs110-overview" width="600" /></p>
<table width="500">
<tr>
<td>1</td>
<td>Lenovo ThinkServer RS110 barebones</td>
<td>$630</td>
</tr>
<tr>
<td>4</td>
<td>2 GB RAM 240-pin DDR2 800</td>
<td>$70</td>
</tr>
<tr>
<td>2</td>
<td> eBay <a href="http://www.codinghorror.com/blog/archives/001200.html">drive brackets</a></td>
<td>$50</td>
</tr>
<tr>
<td>2</td>
<td>500 GB <a href="http://www.newegg.com/Product/Product.aspx?Item=N82E16822136143">datacenter hard drives</a>, mirrored</td>
<td>$160</td>
</tr>
<tr>
<td>1</td>
<td>Intel Xeon X3360 2.83 GHz quad-core CPU</td>
<td>$350</td>
</tr>
</table>
<p>
Grand total of <b>$1,260</b>. Plus another 10 percent for tax, shipping, and so forth. </p>
<p>
The 2U database tier server is considerably beefier:</p>
<p>
<img src="assets/lenovo-rd120-overview.jpg" alt="lenovo-rd120-overview" title="lenovo-rd120-overview" width="600" /></p>
<p>
<img src="assets/lenovo-rd120-drive-bays.jpg" alt="lenovo-rd120-drive-bays" title="lenovo-rd120-drive-bays" width="600" /></p>
<table width="500">
<tr>
<td>1</td>
<td>Lenovo ThinkServer RD120 barebones</td>
<td>$1,490</td>
</tr>
<tr>
<td>12</td>
<td>2 GB RAM 240-pin DDR2 667 FB-DIMM</td>
<td>$600</td>
</tr>
<tr>
<td>6</td>
<td>eBay <a href="http://www.codinghorror.com/blog/archives/001200.html">drive brackets</a></td>
<td>$150</td>
</tr>
<tr>
<td>6</td>
<td>500 GB <a href="http://www.newegg.com/Product/Product.aspx?Item=N82E16822136143">datacenter hard drives</a>, RAID 10</td>
<td>$480</td>
</tr>
<tr>
<td>2</td>
<td>Intel Xeon E5420 2.5 GHz quad-core CPU</td>
<td>$700</td>
</tr>
<tr>
<td>1</td>
<td>aftermarket IBM heatsink for 2nd proc</td>
<td>$90</td>
</tr>
<tr>
<td>1</td>
<td>aftermarket IBM VRM for 2nd proc</td>
<td>$120</td>
</tr>
</table>
<p>
Grand total of <b>$3,630</b>. Plus another 10 percent for tax, shipping, and so forth. </p>
<p>
I can sell the low-end Xeons and dinky amounts of (incorrectly sized) memory that I pulled out and replaced in every server, to defray the costs a tiny bit.</p>
<p>
So, in a nutshell, for around <b>$6,000</b> we'll end up with the following:</p>
<table>
<tr>
<td width="300"><u>Web Tier</u></td>
<td width="300"><u>Database Tier</u></td>
</tr>
<tr>
<td>two servers</td>
<td>one server</td>
</tr>
<tr>
<td>4 cores, 2.83 Ghz, 12 MB L2 cache</td>
<td>8 cores, 2.5 Ghz, 24 MB L2 cache</td>
</tr>
<tr>
<td>8 GB RAM</td>
<td>24 GB RAM</td>
</tr>
<tr>
<td>500 GB RAID 1 mirror array<br />(hot-fail, cold-swap)</td>
<td>500 GB RAID 10 array<br />(hot-swap, up to 2 drives at once)</td>
</tr>
<tr>
<td></td>
<td>dual redundant power supplies</td>
</tr>
</table>
<p>
(I am taking to heart the comment advice I got in my <a href="http://blog.stackoverflow.com/2008/12/server-hosting-rent-vs-buy/">previous blog entry</a>; we'll be shipping multiple spare hard drives down to the hosting provider, and I added that second 1U server just as a backup in case anything weird happens. We technically didn't need two web tier servers, yet.)</p>
<p>
Sure, $6,000 sounds like a lot. But if you take a typical $800 per month hosting bill for renting dedicated servers this powerful, and then cut it in half because you're no longer paying every month for servers -- we save $4,800 per year, <i>every single year!</i> This one-time investment in server hardware pays for itself in a year and a half.</p>
<p>
Compared to our <a href="http://blog.stackoverflow.com/2008/04/our-dedicated-server/">current two identical dedicated servers</a>, which aren't exactly chopped liver, this gives us:</p>
<ul>
<li>1.5x the overall speed (faster CPUs, faster memory bus, more L2 cache)
</li>
<li>2x the memory on web; <i>8x</i> the memory on database
</li>
<li>larger and faster storage with bigger drives and RAID 10 option
</li>
</ul>
<p>
What this means to <i>you</i> is a <b>faster Stack Overflow!</b> As far as I'm concerned performance is a core feature; we can never be fast enough, and I'm constantly on the lookout for ways to make pages load faster.</p>
<p>
Having these new servers in place (hopefully sometime in early-ish February) also enables us to expand, which I'll be blogging about in more detail tomorrow.</p>
<p /></p></p></p></p></p></p></p></p></p></p></p></p>
