---
layout: post
title: Six Whys - Or, Never Trust Your Network Switch
date: 2010-01-25 10:13:43.000000000 -05:00
categories:
- background
- server
tags: []
status: publish
type: post
published: true
meta:
  _edit_last: '1'
  _podPressPostSpecific: a:6:{s:15:"itunes:subtitle";s:15:"##PostExcerpt##";s:14:"itunes:summary";s:15:"##PostExcerpt##";s:15:"itunes:keywords";s:17:"##WordPressCats##";s:13:"itunes:author";s:10:"##Global##";s:15:"itunes:explicit";s:2:"No";s:12:"itunes:block";s:2:"No";}
author:
  login: admin
  email: jatwood@codinghorror.com
  display_name: Jeff Atwood
  first_name: Jeff
  last_name: Atwood

---
<p>
Remember <a href="http://www.joelonsoftware.com/items/2008/01/22.html">Joel Spolsky's fine article "Five Whys"?</a> Sure you do! It contained this paragraph:</p>
<blockquote><p>
Michael spent some time doing a post-mortem, and discovered that the problem was a simple configuration problem on the switch. <b>There are several possible speeds that a switch can use to communicate (10, 100, or 1000 megabits/second). You can either set the speed manually, or you can let the switch automatically negotiate the highest speed that both sides can work with.</b> The switch that failed had been set to autonegotiate. This usually works, but not always, and on the morning of January 10th, it didn't.
</p></blockquote>
<p>
Guess what we woke up this morning (well, you don't really "wake up" at 3 AM, unless you're a <a href="http://blog.stackoverflow.com/wp-content/uploads/jon-skeet-fluffy-bunny-vampire.jpg">vampire</a>, but you know what I mean) to find?</p>
<p>
<a href="http://blog.stackoverflow.com/wp-content/uploads/switch-autodetect-fail-large.png" style="border-bottom:none;"><img src="assets/switch-autodetect-fail.png" alt="" title="switch-autodetect-fail" border="0" /></a></p>
<p>
My, that looks familiar. Where have I read about this before? Oh yes, the article I just quoted <i>twenty seconds ago!</i></p>
<p>
To be fair to NetGear, we never had any port speed negotiation problems with our old 8-port GS108T switches, but <a href="http://blog.stackoverflow.com/2009/12/stack-overflow-rack-glamour-shots/">we recently upgraded</a> to the 24-port GS724T. I guess this model is more sensitive and brooding, or something.</p>
<p>
Geoff "the Malice from Corvallis" Dalgas was all over this one and got <a href="http://blog.stackoverflow.com/2010/01/stack-overflow-network-configuration/">all the web tier servers in our network</a> set to a fixed, <i>non-negotiable</i> ethernet speed of 1 Gigabit.</p>
<p>
And I ask myself ... why? why? why? why? why? </p>
<p>
It's because I can't read, apparently, and <i>that's</i> why.</p>
<p /></p></p></p></p>
